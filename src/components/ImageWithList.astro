---
import urlForImage from "@utils/urlForImage";
import { PortableText } from "astro-portabletext";
import { Icon } from "astro-icon/components";

const { heading, content, image, list } = Astro.props;
---

<section>
  <div class="container">
    <div class="mx-auto flex flex-col justify-between gap-16 lg:flex-row">
      <div class="w-full lg:max-w-lg lg:flex-auto">
        <h2 class="h2 font-display">
          {heading}
        </h2>

        <PortableText value={content} />

        <img
          src={urlForImage(image).url()}
          alt={image.alt}
          class="mt-16 aspect-[6/5] w-full rounded-2xl bg-gray-50 object-cover lg:aspect-auto lg:h-[400px]"
        />
      </div>
      <div class="w-full lg:max-w-xl lg:flex-auto">
        <h3 class="sr-only">Job Openings</h3>
        <ul
          class="-my-8 divide-y divide-[var(--color-6)] list-none pl-0"
          role="list"
        >
          {
            list.map(({ title, description }) => (
              <li class="py-4">
                <dl class="relative flex flex-wrap gap-x-4">
                  <dt class="sr-only">Role</dt>
                  <dd class="w-full flex-none text-lg font-semibold tracking-tight text-gray-900">
                    <a href="#">
                      {title}
                      <a class="absolute inset-0" aria-hidden="true" />
                    </a>
                  </dd>
                  <dt class="sr-only">Description</dt>
                  <dd class="mt-2 w-full flex-none text-base leading-7 text-gray-600">
                    {description}
                  </dd>
                </dl>
              </li>
            ))
          }
        </ul>
        <div class="mt-8 flex border-t border-gray-100 pt-8">
          <a href="#" class="button primary">
            <span> Apply Now</span>
            <Icon name="heroicons:arrow-right" aria-hidden="true" />
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
