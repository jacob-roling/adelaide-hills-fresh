---
import urlForImage from "@utils/urlForImage";
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<"img"> {
  image: any;
}

const { image } = Astro.props;
---

<picture>
  <source
    media="(min-width: 1024px)"
    srcset={urlForImage(image).height(500).format("webp").url()}
    type="image/webp"
  />
  <source
    media="(min-width: 1024px)"
    srcset={urlForImage(image).height(500).format("jpg").url()}
    type="image/jpg"
  />
  <source
    media="(min-width: 768px)"
    srcset={urlForImage(image).height(400).format("webp").url()}
    type="image/webp"
  />
  <source
    media="(min-width: 768px)"
    srcset={urlForImage(image).height(400).format("jpg").url()}
    type="image/jpg"
  />
  <img
    class={Astro.props.class ??
      "h-[300px] md:h-[400px] lg:h-[500px] object-center object-cover w-full md:w-auto aspect-[3/2]"}
    src={urlForImage(image).height(300).format("jpg").url()}
    alt={image.alt}
    height="300"
    width="0"
  />
</picture>
